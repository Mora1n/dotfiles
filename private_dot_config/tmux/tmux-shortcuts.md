# Tmux 快捷键完整参考

基于当前配置 (`~/.config/tmux/tmux.conf`) 的完整快捷键参考指南。

## 前缀键配置

| 配置项 | 值 | 说明 |
|--------|-----|------|
| **主前缀键** | `Ctrl + _` (C-_) | 替换默认的 `Ctrl + b` |
| **辅助前缀键** | `Alt + z` (M-z) | 额外的前缀键选项 |
| **已禁用** | `Ctrl + b` | 默认前缀键已通过 `unbind C-b` 禁用 |

> **注意**: 以下所有快捷键都需要先按前缀键，除非特别标注。

## 会话管理 (Session Management)

### 自定义绑定
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + S` | 创建新会话 | 自定义绑定：新建 tmux 会话 |
| `前缀 + L` | 切换到上一个会话 | 自定义绑定：会话间快速切换 |
| `前缀 + D` | 分离会话 | 自定义绑定：断开会话保持后台运行 |
| `前缀 + a` | 选择会话 | 自定义绑定：从会话列表中选择 |
| `前缀 + X` | 杀死会话 | 自定义绑定：杀死当前会话（需确认） |
| `前缀 + Q` | 杀死服务器 | 自定义绑定：杀死整个 tmux 服务器 |
| `前缀 + r` | 重新加载配置 | 自定义绑定：重新加载 tmux.conf |

### 内置默认快捷键（仍然有效）
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + d` | 分离会话 | 默认绑定，与自定义 D 功能相同 |
| `前缀 + $` | 重命名会话 | 默认绑定 |
| `前缀 + s` | 会话列表 | 默认绑定：显示会话选择列表 |
| `前缀 + (` | 上一个会话 | 默认绑定 |
| `前缀 + )` | 下一个会话 | 默认绑定 |

### tmux-resurrect 插件快捷键
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + Ctrl + s` | 保存会话 | 插件提供：保存当前会话状态 |
| `前缀 + Ctrl + r` | 恢复会话 | 插件提供：恢复已保存的会话 |

## 窗口管理 (Window Management)

### 自定义绑定
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + n` | 下一个窗口 | 自定义绑定（可重复按键） |
| `前缀 + p` | 上一个窗口 | 自定义绑定（可重复按键） |
| `前缀 + Tab` | 上次使用的窗口 | 自定义绑定：在两个窗口间快速切换 |
| `前缀 + <` | 窗口左移 | 自定义绑定：交换窗口到左边 |
| `前缀 + >` | 窗口右移 | 自定义绑定：交换窗口到右边 |

### 内置默认快捷键
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + c` | 创建新窗口 | 默认绑定 |
| `前缀 + l` | 上次使用的窗口 | 默认绑定（被 Tab 替代但仍有效） |
| `前缀 + 0-9` | 切换到指定窗口 | 默认绑定：按窗口编号切换 |
| `前缀 + ,` | 重命名当前窗口 | 默认绑定 |
| `前缀 + .` | 移动窗口编号 | 默认绑定 |
| `前缀 + &` | 关闭当前窗口 | 默认绑定（需确认） |
| `前缀 + f` | 查找窗口 | 默认绑定：按名称查找窗口 |
| `前缀 + w` | 窗口列表 | 默认绑定：显示窗口选择列表 |

## 面板管理 (Pane Management)

### 自定义绑定
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + Space` | 循环面板布局 | 自定义绑定（可重复按键）：在各种布局间切换 |
| `前缀 + s` | 切换面板同步 | 自定义绑定：开启/关闭多面板同时输入 |

### tmux-panel-control 插件快捷键
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + \|` | 垂直分割面板 | 插件提供：更直观的分割符号 |
| `前缀 + -` | 水平分割面板 | 插件提供：更直观的分割符号 |
| `前缀 + h` | 移动到左侧面板 | 插件提供：Vi 风格导航 |
| `前缀 + j` | 移动到下方面板 | 插件提供：Vi 风格导航 |
| `前缀 + k` | 移动到上方面板 | 插件提供：Vi 风格导航 |
| `前缀 + l` | 移动到右侧面板 | 插件提供：Vi 风格导航 |
| `前缀 + H` | 向左调整面板大小 | 插件提供 |
| `前缀 + J` | 向下调整面板大小 | 插件提供 |
| `前缀 + K` | 向上调整面板大小 | 插件提供 |
| `前缀 + L` | 向右调整面板大小 | 插件提供 |

### 内置默认快捷键
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + %` | 垂直分割面板 | 默认绑定（仍然有效） |
| `前缀 + "` | 水平分割面板 | 默认绑定（仍然有效） |
| `前缀 + 方向键` | 切换面板 | 默认绑定：方向键导航 |
| `前缀 + o` | 下一个面板 | 默认绑定 |
| `前缀 + ;` | 上一个面板 | 默认绑定 |
| `前缀 + x` | 关闭当前面板 | 默认绑定（需确认） |
| `前缀 + z` | 最大化/还原面板 | 默认绑定：切换面板全屏 |
| `前缀 + !` | 面板独立为窗口 | 默认绑定 |
| `前缀 + {` | 向前交换面板 | 默认绑定 |
| `前缀 + }` | 向后交换面板 | 默认绑定 |
| `前缀 + Ctrl + 方向键` | 调整面板大小 | 默认绑定 |
| `前缀 + Alt + 方向键` | 调整面板大小（5格）| 默认绑定 |
| `前缀 + q` | 显示面板编号 | 默认绑定 |
| `前缀 + m` | 标记面板 | 默认绑定 |
| `前缀 + M` | 清除面板标记 | 默认绑定 |

## 复制模式 (Copy Mode)

### Vi 模式自定义绑定
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + v` | 进入复制模式 | 自定义绑定：Vi 风格进入复制模式 |

#### 复制模式内的自定义键绑定
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `v` | 开始选择 | 复制模式中：Vi 风格选择 |
| `C-v` | 矩形选择模式 | 复制模式中：切换矩形选择 |
| `y` | 复制并退出 | 复制模式中：复制选中文本并退出 |
| `Escape` | 取消选择 | 复制模式中：退出不复制 |
| `0` | 行首 | 复制模式中：移动到行开头 |
| `$` | 行尾 | 复制模式中：移动到行结尾 |
| `g` | 文档开头 | 复制模式中：跳到第一行 |
| `G` | 文档结尾 | 复制模式中：跳到最后一行 |

### 内置默认快捷键
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + [` | 进入复制模式 | 默认绑定（仍然有效） |
| `前缀 + ]` | 粘贴 | 默认绑定 |
| `前缀 + =` | 选择粘贴缓冲区 | 默认绑定 |
| `前缀 + -` | 删除最新的缓冲区 | 默认绑定 |

### 复制模式内的 Vi 键绑定
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `hjkl` | 移动光标 | Vi 风格方向键 |
| `w/b` | 按单词移动 | Vi 风格单词导航 |
| `0/$` | 行首/行尾 | Vi 风格行导航 |
| `g/G` | 文档开头/结尾 | Vi 风格文档导航 |
| `/` | 搜索 | Vi 风格搜索 |
| `n/N` | 下一个/上一个搜索结果 | Vi 风格搜索导航 |

## 剪贴板集成 (Clipboard Integration)

### 自定义绑定
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + Ctrl + c` | 复制到系统剪贴板 | 使用 xsel 复制 |
| `前缀 + Ctrl + v` | 从系统剪贴板粘贴 | 使用 xsel 粘贴 |

### tmux-yank 插件增强
- 鼠标选择自动复制到剪贴板
- 增强的复制粘贴功能
- 与系统剪贴板的更好集成

## 其他功能快捷键

### 自定义绑定
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + b` | 切换状态栏 | 自定义绑定：显示/隐藏状态栏 |

### 内置默认快捷键
| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + ?` | 显示所有键绑定 | 默认绑定：快捷键帮助 |
| `前缀 + :` | 命令提示符 | 默认绑定：输入 tmux 命令 |
| `前缀 + ~` | 显示消息 | 默认绑定：显示之前的消息 |
| `前缀 + t` | 显示时钟 | 默认绑定：全屏时钟显示 |
| `前缀 + i` | 显示窗口信息 | 默认绑定 |

## 鼠标支持

启用了完整的鼠标支持 (`set -g mouse on`)：

| 操作 | 功能 | 说明 |
|------|------|------|
| **点击面板** | 切换到该面板 | 鼠标点击激活面板 |
| **拖拽边界** | 调整面板大小 | 拖拽面板边界调整大小 |
| **滚轮** | 滚动历史记录 | 在面板中滚动查看历史 |
| **双击** | 选择单词 | 双击选中单词 |
| **拖拽选择** | 选择文本 | 拖拽选择文本并复制 |

## 状态栏信息 (Dracula 主题)

状态栏显示的信息模块：

| 模块 | 显示内容 | 配置 |
|------|----------|------|
| **SSH会话** | 󰢪 | SSH 连接状态（仅连接时显示端口） |
| **目录** | 󰉋 | 当前工作目录 |
| **CPU** | CPU: XX% | CPU 使用率 |
| **内存** | RAM: XX% | RAM 使用率 |
| **时间** | YYYY-MM-DD HH:MM | 日期和时间 |

## 配置冲突说明

### 已解决的冲突

1. **前缀键冲突**：
   - 默认 `Ctrl + b` 已通过 `unbind C-b` 禁用
   - 新前缀键：`Ctrl + _` 和 `Alt + z`

2. **复制模式进入**：
   - 自定义：`前缀 + Enter`
   - 默认：`前缀 + [`（仍然有效）

### 需要注意的重叠

1. **会话和窗口切换**：
   - `前缀 + L`（自定义）：上一个会话
   - `前缀 + Tab`（自定义）：上次使用的窗口
   - `前缀 + l`（默认）：上次使用的窗口（仍然有效）
   - **这些功能互补，提供多种切换方式**

2. **面板导航增强**：
   - pain-control 插件的 `hjkl` 导航与默认方向键导航并存
   - 两套导航方式都可以使用

## 性能优化设置

| 设置 | 值 | 说明 |
|------|-----|------|
| `escape-time` | 0 | 零延迟 Escape 响应 |
| `repeat-time` | 600 | 重复键超时 600ms |
| `focus-events` | on | 启用应用程序聚焦事件 |
| `aggressive-resize` | on | 激进的窗口大小调整 |

---

## 插件管理

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `前缀 + I` | 安装插件 | TPM 插件管理器功能 |
| `前缀 + U` | 更新插件 | TPM 插件管理器功能 |
| `前缀 + Alt + u` | 卸载插件 | TPM 插件管理器功能 |

---

> **提示**:
> 1. 使用 `前缀 + ?` 查看当前所有可用的键绑定
> 2. 如果插件功能不工作，运行 `前缀 + I` 安装所有插件
> 3. 大部分默认快捷键仍然有效，只有明确 unbind 的才会失效
